{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\hoinlee\\\\Desktop\\\\HOIN\\\\codestates\\\\main-project\\\\seb43_main_001\\\\client\\\\src\\\\components\\\\Portfolio\\\\DetailBox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useRef } from 'react';\nimport * as S from './DetailBox.style';\nimport hljs from 'highlight.js';\nimport 'highlight.js/styles/rainbow.css';\nimport ReactQuill, { Quill } from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport axios from 'axios';\nimport { ImageActions } from '@xeger/quill-image-actions';\nimport { ImageFormats } from '@xeger/quill-image-formats';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nQuill.register('modules/imageActions', ImageActions);\nQuill.register('modules/imageFormats', ImageFormats);\nhljs.configure({\n  languages: ['javascript', 'ruby', 'python', 'java', 'cpp', 'kotlin', 'sql']\n});\nconst DetailBox = _ref => {\n  _s();\n  let {\n    text,\n    content,\n    setContent\n  } = _ref;\n  const quillRef = useRef(null);\n  // 이미지 처리를 하는 핸들러\n  const imageHandler = () => {\n    console.log('에디터에서 이미지 버튼을 클릭하면 이 핸들러가 시작됩니다!');\n    if (!quillRef.current) return;\n    const quillInstance = quillRef.current.getEditor();\n    // 1. 이미지를 저장할 input type=file DOM을 만든다.\n    const input = document.createElement('input');\n    // 속성 써주기\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click(); // 에디터 이미지버튼을 클릭하면 이 input이 클릭된다.\n    // input이 클릭되면 파일 선택창이 나타난다.\n\n    input.onchange = async () => {\n      const file = input.files[0];\n      const formData = new FormData();\n      formData.append('image', file);\n\n      // 이미지를 서버로 전송 (서버 엔드포인트 주소를 사용)\n      const response = await axios.post('YOUR_SERVER_API_URL', {\n        body: formData\n      });\n      const imageUrl = await response;\n      const range = quillInstance.getSelection(true);\n      quillInstance.insertEmbed(range.index, 'image', imageUrl);\n    };\n  };\n  const formats = ['align', 'background', 'blockquote', 'bold', 'code-block', 'color', 'float', 'font', 'header', 'height', 'image', 'italic', 'link', 'script', 'strike', 'size', 'underline', 'width', 'image'];\n  const modules = useMemo(() => {\n    return {\n      imageActions: {},\n      imageFormats: {},\n      syntax: {\n        highlight: text => hljs.highlightAuto(text).value\n      },\n      toolbar: {\n        container: [['bold', 'italic', 'underline', 'strike'],\n        // toggled buttons\n        ['blockquote', 'image', 'code-block'], [{\n          header: 1\n        }, {\n          header: 2\n        }],\n        // custom button values\n        [{\n          list: 'ordered'\n        }, {\n          list: 'bullet'\n        }], [{\n          script: 'sub'\n        }, {\n          script: 'super'\n        }],\n        // superscript/subscript\n        [{\n          indent: '-1'\n        }, {\n          indent: '+1'\n        }],\n        // outdent/indent\n        [{\n          direction: 'rtl'\n        }],\n        // text direction\n\n        [{\n          size: ['small', false, 'large', 'huge']\n        }],\n        // custom dropdown\n        [{\n          header: [1, 2, 3, 4, 5, 6, false]\n        }], [{\n          color: []\n        }, {\n          background: []\n        }],\n        // dropdown with defaults from theme\n        [{\n          font: []\n        }], [{\n          align: []\n        }], ['clean']]\n\n        // // 내부 이미지를 url로 받아오는 handler\n        // handlers: {\n        //   image: imageHandler,\n        // },\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(S.DetailContainer, {\n    children: [/*#__PURE__*/_jsxDEV(S.Title, {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n      ref: quillRef,\n      formats: formats,\n      modules: modules,\n      onChange: setContent,\n      value: content,\n      theme: \"snow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(DetailBox, \"En3KIhU47UXH1knXzSz9t0Z/4RA=\");\n_c = DetailBox;\nexport default DetailBox;\nvar _c;\n$RefreshReg$(_c, \"DetailBox\");","map":{"version":3,"names":["React","useMemo","useRef","S","hljs","ReactQuill","Quill","axios","ImageActions","ImageFormats","jsxDEV","_jsxDEV","register","configure","languages","DetailBox","_ref","_s","text","content","setContent","quillRef","imageHandler","console","log","current","quillInstance","getEditor","input","document","createElement","setAttribute","click","onchange","file","files","formData","FormData","append","response","post","body","imageUrl","range","getSelection","insertEmbed","index","formats","modules","imageActions","imageFormats","syntax","highlight","highlightAuto","value","toolbar","container","header","list","script","indent","direction","size","color","background","font","align","DetailContainer","children","Title","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","theme","_c","$RefreshReg$"],"sources":["D:/Users/hoinlee/Desktop/HOIN/codestates/main-project/seb43_main_001/client/src/components/Portfolio/DetailBox.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport * as S from './DetailBox.style';\r\n\r\nimport hljs from 'highlight.js';\r\nimport 'highlight.js/styles/rainbow.css';\r\n\r\nimport ReactQuill, { Quill } from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport axios from 'axios';\r\nimport { ImageActions } from '@xeger/quill-image-actions';\r\nimport { ImageFormats } from '@xeger/quill-image-formats';\r\n\r\nQuill.register('modules/imageActions', ImageActions);\r\nQuill.register('modules/imageFormats', ImageFormats);\r\n\r\ntype DetailBoxProps = {\r\n  text: string;\r\n  content: string;\r\n  setContent: React.Dispatch<React.SetStateAction<string>>;\r\n};\r\n\r\nhljs.configure({\r\n  languages: ['javascript', 'ruby', 'python', 'java', 'cpp', 'kotlin', 'sql'],\r\n});\r\n\r\nconst DetailBox: React.FC<DetailBoxProps> = ({ text, content, setContent }) => {\r\n  const quillRef = useRef<ReactQuill | null>(null);\r\n  // 이미지 처리를 하는 핸들러\r\n  const imageHandler = () => {\r\n    console.log('에디터에서 이미지 버튼을 클릭하면 이 핸들러가 시작됩니다!');\r\n    if (!quillRef.current) return;\r\n    const quillInstance: any = quillRef.current.getEditor();\r\n    // 1. 이미지를 저장할 input type=file DOM을 만든다.\r\n    const input = document.createElement('input');\r\n    // 속성 써주기\r\n    input.setAttribute('type', 'file');\r\n    input.setAttribute('accept', 'image/*');\r\n    input.click(); // 에디터 이미지버튼을 클릭하면 이 input이 클릭된다.\r\n    // input이 클릭되면 파일 선택창이 나타난다.\r\n\r\n    input.onchange = async () => {\r\n      const file = input.files![0];\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n\r\n      // 이미지를 서버로 전송 (서버 엔드포인트 주소를 사용)\r\n      const response = await axios.post('YOUR_SERVER_API_URL', {\r\n        body: formData,\r\n      });\r\n\r\n      const imageUrl = await response;\r\n      const range = quillInstance.getSelection(true);\r\n      quillInstance.insertEmbed(range.index, 'image', imageUrl);\r\n    };\r\n  };\r\n\r\n  const formats = [\r\n    'align',\r\n    'background',\r\n    'blockquote',\r\n    'bold',\r\n    'code-block',\r\n    'color',\r\n    'float',\r\n    'font',\r\n    'header',\r\n    'height',\r\n    'image',\r\n    'italic',\r\n    'link',\r\n    'script',\r\n    'strike',\r\n    'size',\r\n    'underline',\r\n    'width',\r\n    'image',\r\n  ];\r\n\r\n  const modules = useMemo(() => {\r\n    return {\r\n      imageActions: {},\r\n      imageFormats: {},\r\n      syntax: {\r\n        highlight: (text: any) => hljs.highlightAuto(text).value,\r\n      },\r\n      toolbar: {\r\n        container: [\r\n          ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n          ['blockquote', 'image', 'code-block'],\r\n\r\n          [{ header: 1 }, { header: 2 }], // custom button values\r\n          [{ list: 'ordered' }, { list: 'bullet' }],\r\n          [{ script: 'sub' }, { script: 'super' }], // superscript/subscript\r\n          [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\r\n          [{ direction: 'rtl' }], // text direction\r\n\r\n          [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\r\n          [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n          [{ color: [] }, { background: [] }], // dropdown with defaults from theme\r\n          [{ font: [] }],\r\n          [{ align: [] }],\r\n\r\n          ['clean'],\r\n        ],\r\n\r\n        // // 내부 이미지를 url로 받아오는 handler\r\n        // handlers: {\r\n        //   image: imageHandler,\r\n        // },\r\n      },\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <S.DetailContainer>\r\n      <S.Title>{text}</S.Title>\r\n      <ReactQuill\r\n        ref={quillRef}\r\n        formats={formats}\r\n        modules={modules}\r\n        onChange={setContent}\r\n        value={content}\r\n        theme='snow'\r\n      />\r\n    </S.DetailContainer>\r\n  );\r\n};\r\n\r\nexport default DetailBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}