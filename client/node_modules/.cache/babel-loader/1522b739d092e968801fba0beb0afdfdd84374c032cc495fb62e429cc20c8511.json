{"ast":null,"code":"// axios\nimport axios from 'axios';\n\n// redux\n\n// !: 추후에 constant에서 import 후 처리를 해야 한다\nconst REFRESH_URL = '';\nexport const getRefreshToken = async () => {\n  try {\n    // *새롭게 refresh 토큰을 재발급 받기 위해 서버에 요청하기\n    const {\n      data: {\n        accessToken,\n        refreshToken\n      }\n    } = await axios.get(REFRESH_URL);\n    // redux로 변경해야 함!\n    localStorage.setItem('accessToken', accessToken);\n\n    // redux로 변경해야 함!\n    if (refreshToken !== null) {\n      localStorage.setItem('refreshToken', refreshToken);\n    }\n    return accessToken;\n  } catch (e) {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n  }\n};","map":{"version":3,"names":["axios","REFRESH_URL","getRefreshToken","data","accessToken","refreshToken","get","localStorage","setItem","e","removeItem"],"sources":["D:/Users/hoinlee/Desktop/HOIN/codestates/main-project/seb43_main_001/client/src/utils/getRefreshToken.ts"],"sourcesContent":["// axios\r\nimport axios from 'axios';\r\n\r\n// redux\r\nimport { useAppSelector } from '../hooks/reduxHook';\r\n\r\n// !: 추후에 constant에서 import 후 처리를 해야 한다\r\nconst REFRESH_URL = '';\r\n\r\nexport const getRefreshToken = async (): Promise<string | void> => {\r\n  try {\r\n    // *새롭게 refresh 토큰을 재발급 받기 위해 서버에 요청하기\r\n    const {\r\n      data: { accessToken, refreshToken },\r\n    } = await axios.get<{ accessToken: string; refreshToken: string | null }>(REFRESH_URL);\r\n    // redux로 변경해야 함!\r\n    localStorage.setItem('accessToken', accessToken);\r\n\r\n    // redux로 변경해야 함!\r\n    if (refreshToken !== null) {\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n    }\r\n\r\n    return accessToken;\r\n  } catch (e) {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('refreshToken');\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;;AAGA;AACA,MAAMC,WAAW,GAAG,EAAE;AAEtB,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAoC;EACjE,IAAI;IACF;IACA,MAAM;MACJC,IAAI,EAAE;QAAEC,WAAW;QAAEC;MAAa;IACpC,CAAC,GAAG,MAAML,KAAK,CAACM,GAAG,CAAuDL,WAAW,CAAC;IACtF;IACAM,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEJ,WAAW,CAAC;;IAEhD;IACA,IAAIC,YAAY,KAAK,IAAI,EAAE;MACzBE,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEH,YAAY,CAAC;IACpD;IAEA,OAAOD,WAAW;EACpB,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVF,YAAY,CAACG,UAAU,CAAC,aAAa,CAAC;IACtCH,YAAY,CAACG,UAAU,CAAC,cAAc,CAAC;EACzC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}