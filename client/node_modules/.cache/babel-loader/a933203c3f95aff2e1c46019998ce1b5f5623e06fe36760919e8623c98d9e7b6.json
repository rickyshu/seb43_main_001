{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { UserCommentsAPI } from '../api/client';\nconst {\n  deleteUserComment\n} = UserCommentsAPI;\nexport const useDeleteComment = (userId, portfolioId) => {\n  _s();\n  const queryClient = useQueryClient();\n  const {\n    mutate: deleteUserCommentMutation\n  } = useMutation(deleteUserComment, {\n    onMutate: () => {\n      console.log('onMutate');\n    },\n    onError: e => {\n      console.log(e);\n    },\n    onSuccess: data => {\n      console.log(data, 'success');\n      queryClient.invalidateQueries(['userComments', userId]);\n      queryClient.invalidateQueries(['commentsToUser', userId]);\n      queryClient.invalidateQueries(['commentsToPortfolio', userId]);\n      if (portfolioId) {\n        queryClient.invalidateQueries(['comment', portfolioId]);\n      }\n    },\n    onSettled: () => {\n      console.log('end');\n    }\n  });\n  const handlerDeleteUserComment = async _ref => {\n    let {\n      commentId,\n      path\n    } = _ref;\n    deleteUserCommentMutation({\n      commentId,\n      path\n    });\n  };\n  return {\n    handlerDeleteUserComment\n  };\n};\n_s(useDeleteComment, \"Ze/dbQbcWU+FjxHmY8pKFd7C9sw=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useMutation","useQueryClient","UserCommentsAPI","deleteUserComment","useDeleteComment","userId","portfolioId","_s","queryClient","mutate","deleteUserCommentMutation","onMutate","console","log","onError","e","onSuccess","data","invalidateQueries","onSettled","handlerDeleteUserComment","_ref","commentId","path"],"sources":["D:/Users/hoinlee/Desktop/HOIN/codestates/main-project/seb43_main_001/client/src/hooks/useDeleteComment.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { UserCommentsAPI } from '../api/client';\r\nimport { DeleteUserComment } from '../types';\r\n\r\nconst { deleteUserComment } = UserCommentsAPI;\r\n\r\nexport const useDeleteComment = (userId: number, portfolioId: number) => {\r\n  const queryClient = useQueryClient();\r\n  const { mutate: deleteUserCommentMutation } = useMutation(deleteUserComment, {\r\n    onMutate: () => {\r\n      console.log('onMutate');\r\n    },\r\n    onError: (e) => {\r\n      console.log(e);\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log(data, 'success');\r\n      queryClient.invalidateQueries(['userComments', userId]);\r\n      queryClient.invalidateQueries(['commentsToUser', userId]);\r\n      queryClient.invalidateQueries(['commentsToPortfolio', userId]);\r\n      if (portfolioId) {\r\n        queryClient.invalidateQueries(['comment', portfolioId]);\r\n      }\r\n    },\r\n    onSettled: () => {\r\n      console.log('end');\r\n    },\r\n  });\r\n  const handlerDeleteUserComment = async ({ commentId, path }: DeleteUserComment) => {\r\n    deleteUserCommentMutation({ commentId, path });\r\n  };\r\n  return { handlerDeleteUserComment };\r\n};\r\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,cAAc,QAAQ,uBAAuB;AACnE,SAASC,eAAe,QAAQ,eAAe;AAG/C,MAAM;EAAEC;AAAkB,CAAC,GAAGD,eAAe;AAE7C,OAAO,MAAME,gBAAgB,GAAGA,CAACC,MAAc,EAAEC,WAAmB,KAAK;EAAAC,EAAA;EACvE,MAAMC,WAAW,GAAGP,cAAc,CAAC,CAAC;EACpC,MAAM;IAAEQ,MAAM,EAAEC;EAA0B,CAAC,GAAGV,WAAW,CAACG,iBAAiB,EAAE;IAC3EQ,QAAQ,EAAEA,CAAA,KAAM;MACdC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACzB,CAAC;IACDC,OAAO,EAAGC,CAAC,IAAK;MACdH,OAAO,CAACC,GAAG,CAACE,CAAC,CAAC;IAChB,CAAC;IACDC,SAAS,EAAGC,IAAI,IAAK;MACnBL,OAAO,CAACC,GAAG,CAACI,IAAI,EAAE,SAAS,CAAC;MAC5BT,WAAW,CAACU,iBAAiB,CAAC,CAAC,cAAc,EAAEb,MAAM,CAAC,CAAC;MACvDG,WAAW,CAACU,iBAAiB,CAAC,CAAC,gBAAgB,EAAEb,MAAM,CAAC,CAAC;MACzDG,WAAW,CAACU,iBAAiB,CAAC,CAAC,qBAAqB,EAAEb,MAAM,CAAC,CAAC;MAC9D,IAAIC,WAAW,EAAE;QACfE,WAAW,CAACU,iBAAiB,CAAC,CAAC,SAAS,EAAEZ,WAAW,CAAC,CAAC;MACzD;IACF,CAAC;IACDa,SAAS,EAAEA,CAAA,KAAM;MACfP,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IACpB;EACF,CAAC,CAAC;EACF,MAAMO,wBAAwB,GAAG,MAAAC,IAAA,IAAkD;IAAA,IAA3C;MAAEC,SAAS;MAAEC;IAAwB,CAAC,GAAAF,IAAA;IAC5EX,yBAAyB,CAAC;MAAEY,SAAS;MAAEC;IAAK,CAAC,CAAC;EAChD,CAAC;EACD,OAAO;IAAEH;EAAyB,CAAC;AACrC,CAAC;AAACb,EAAA,CA1BWH,gBAAgB;EAAA,QACPH,cAAc,EACYD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}